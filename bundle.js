var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return r(t,t=>e=t)(),e}function l(t,e,n){t.$$.on_destroy.push(r(e,n))}function c(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function h(){return v(" ")}function I(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function U(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function $(t,e,n){t.classList[n?"add":"remove"](e)}let b;function R(t){b=t}function D(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const y=[],w=[],O=[],C=[],N=Promise.resolve();let x=!1;function E(t){O.push(t)}let k=!1;const _=new Set;function A(){if(!k){k=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];R(e),L(e.$$)}for(y.length=0;w.length;)w.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];_.has(e)||(_.add(e),e())}O.length=0}while(y.length);for(;C.length;)C.pop()();x=!1,k=!1,_.clear()}}function L(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const G=new Set;let T;function K(t,e){t&&t.i&&(G.delete(t),t.i(e))}function W(t,e,n,s){if(t&&t.o){if(G.has(t))return;G.add(t),T.c.push(()=>{G.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function P(t){t&&t.c()}function q(t,n,i){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=t.$$;r&&r.m(n,i),E(()=>{const n=a.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]}),c.forEach(E)}function V(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(y.push(t),x||(x=!0,N.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(e,o,i,r,a,l,c=[-1]){const u=b;R(e);const d=o.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let m=!1;if(f.ctx=i?i(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&B(e,t)),n}):[],f.update(),m=!0,s(f.before_update),f.fragment=!!r&&r(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();o.intro&&K(e.$$.fragment),q(e,o.target,o.anchor),A()}R(u)}class H{$destroy(){V(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const j=[];function z(e,n){const s=function(e,n=t){let s;const o=[];function r(t){if(i(e,t)&&(e=t,s)){const t=!j.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),j.push(n,e)}if(t){for(let t=0;t<j.length;t+=2)j[t][0](j[t+1]);j.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,a=t){const l=[i,a];return o.push(l),1===o.length&&(s=n(r)||t),i(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}(n),{subscribe:o,set:r}=s,l="undefined"!=typeof localStorage?localStorage.getItem(e):null;return l&&r(JSON.parse(l)),{set(t){"undefined"!=typeof localStorage&&localStorage.setItem(e,JSON.stringify(t)),r(t)},update(t){const e=t(a(s));this.set(e)},subscribe:o}}const Z=z("config",{privateUUID:"",sponsorBlockApi:"https://sponsor.ajay.app",showPrivateUUID:!1}),Y=z("cache",{});function F(e){let n;return{c(){n=m("header"),n.innerHTML='<img src="favicon.png" width="64" height="64" alt="Logo" class="svelte-qh2uac"> SponsorBlockControl\n  <sup class="svelte-qh2uac"><a href="https://github.com/MRuy/sponsorBlockControl#readme" class="svelte-qh2uac">(v1.0.1)</a></sup>',g(n,"class","svelte-qh2uac")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}class J extends H{constructor(t){super(),M(this,t,null,F,i,{})}}function Q(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function X(t){let e,n,s,o,i,r,a=t[5].name+"";function l(...e){return t[4](t[5],...e)}return{c(){e=m("button"),n=v(a),s=h(),g(e,"type","button"),e.disabled=o=!0===t[5].uuidRequired&&""===t[3].privateUUID,g(e,"class","svelte-mrs8b4"),$(e,"active",t[2]===t[5].component)},m(t,o){d(t,e,o),u(e,n),u(e,s),i||(r=I(e,"click",l),i=!0)},p(s,i){t=s,1&i&&a!==(a=t[5].name+"")&&U(n,a),9&i&&o!==(o=!0===t[5].uuidRequired&&""===t[3].privateUUID)&&(e.disabled=o),5&i&&$(e,"active",t[2]===t[5].component)},d(t){t&&p(e),i=!1,r()}}}function tt(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=X(Q(e,s,t));return{c(){n=m("nav");for(let t=0;t<o.length;t+=1)o[t].c();g(n,"class","svelte-mrs8b4")},m(t,e){d(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(15&e){let i;for(s=t[0],i=0;i<s.length;i+=1){const r=Q(t,s,i);o[i]?o[i].p(r,e):(o[i]=X(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:t,o:t,d(t){t&&p(n),f(o,t)}}}function et(t,e,n){let s;l(t,Z,t=>n(3,s=t));let{items:o=[]}=e,{clickHandler:i}=e,{selected:r}=e;return t.$$set=t=>{"items"in t&&n(0,o=t.items),"clickHandler"in t&&n(1,i=t.clickHandler),"selected"in t&&n(2,r=t.selected)},[o,i,r,s,(t,e)=>{i(t.name)}]}class nt extends H{constructor(t){super(),M(this,t,et,tt,i,{items:0,clickHandler:1,selected:2})}}function st(t){let e;return{c(){e=v("Ready!")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ot(t){let e,n;return{c(){e=m("div"),n=v("\n    Sending request..."),g(e,"class","lds-dual-ring svelte-kuvmdh")},m(t,s){d(t,e,s),d(t,n,s)},d(t){t&&p(e),t&&p(n)}}}function it(t){let e;return{c(){e=v("Done. Success!")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function rt(t){let e;return{c(){e=m("span"),e.textContent="Bad Request (Your inputs are wrong/impossible)",g(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function at(t){let e;return{c(){e=m("span"),e.textContent="Error. You are not allowed to do that!",g(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function lt(t){let e;return{c(){e=m("span"),e.textContent="Error: Duplicate",g(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ct(t){let e;return{c(){e=m("span"),e.textContent="Error: Not found!",g(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ut(t){let e;return{c(){e=v("(Private UUID required)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function dt(e){let n,s,o,i,r,a,l,c,f,I=e[0]==pt.IDLE&&st(),U=e[0]==pt.WORKING&&ot(),S=e[0]==pt.SUCCESS&&it(),$=e[0]==pt.ERROR_INVALID&&rt(),b=e[0]==pt.ERROR_UNAUTHORIZED&&at(),R=e[0]==pt.DUPLICATE&&lt(),D=e[0]==pt.NOT_FOUND&&ct(),y=e[0]==pt.PRIVATEUUID_MISSING&&ut();return{c(){n=m("div"),s=v("Status: "),I&&I.c(),o=h(),U&&U.c(),i=h(),S&&S.c(),r=h(),$&&$.c(),a=h(),b&&b.c(),l=h(),R&&R.c(),c=h(),D&&D.c(),f=h(),y&&y.c(),g(n,"class","status")},m(t,e){d(t,n,e),u(n,s),I&&I.m(n,null),u(n,o),U&&U.m(n,null),u(n,i),S&&S.m(n,null),u(n,r),$&&$.m(n,null),u(n,a),b&&b.m(n,null),u(n,l),R&&R.m(n,null),u(n,c),D&&D.m(n,null),u(n,f),y&&y.m(n,null)},p(t,[e]){t[0]==pt.IDLE?I||(I=st(),I.c(),I.m(n,o)):I&&(I.d(1),I=null),t[0]==pt.WORKING?U||(U=ot(),U.c(),U.m(n,i)):U&&(U.d(1),U=null),t[0]==pt.SUCCESS?S||(S=it(),S.c(),S.m(n,r)):S&&(S.d(1),S=null),t[0]==pt.ERROR_INVALID?$||($=rt(),$.c(),$.m(n,a)):$&&($.d(1),$=null),t[0]==pt.ERROR_UNAUTHORIZED?b||(b=at(),b.c(),b.m(n,l)):b&&(b.d(1),b=null),t[0]==pt.DUPLICATE?R||(R=lt(),R.c(),R.m(n,c)):R&&(R.d(1),R=null),t[0]==pt.NOT_FOUND?D||(D=ct(),D.c(),D.m(n,f)):D&&(D.d(1),D=null),t[0]==pt.PRIVATEUUID_MISSING?y||(y=ut(),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},i:t,o:t,d(t){t&&p(n),I&&I.d(),U&&U.d(),S&&S.d(),$&&$.d(),b&&b.d(),R&&R.d(),D&&D.d(),y&&y.d()}}}const pt={IDLE:Symbol("idle"),WORKING:Symbol("working"),SUCCESS:Symbol("success"),NOT_FOUND:Symbol("error-404"),ERROR_INVALID:Symbol("error-invalid"),ERROR_UNAUTHORIZED:Symbol("error-unauthorized"),STATUS_DUPLICATE:Symbol("duplicate"),PRIVATEUUID_MISSING:Symbol("private-uuid-missing")};function ft(t,e,n){let{status:s}=e;return t.$$set=t=>{"status"in t&&n(0,s=t.status)},[s]}class mt extends H{constructor(t){super(),M(this,t,ft,dt,i,{status:0})}}const vt=(t,e=!1)=>{const n=Math.floor(t/60/24/365),s=Math.floor(t/60/24)%365,o=Math.floor(t/60)%24;let i="";return i+=""+(n>0?n+(e?" years ":"y "):""),i+=""+(s>0?s+(e?" days ":"d "):""),i+=""+(o>0?o+(e?" hours ":"h "):""),0==n&&(i+=`${(t%60).toFixed(1)}${e?" minutes ":"m "}`),i.trim()},ht=t=>/^[a-f0-9]{64}/.test(t);function It(t){let e,n,s,o=vt(t[1],!0)+"";return{c(){e=v("You have saved people "),n=v(o),s=v(" of their lives.")},m(t,o){d(t,e,o),d(t,n,o),d(t,s,o)},p(t,e){2&e&&o!==(o=vt(t[1],!0)+"")&&U(n,o)},d(t){t&&p(e),t&&p(n),t&&p(s)}}}function gt(t){let e;return{c(){e=v("Loading...")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function Ut(t){let e;return{c(){e=v("(Private UUID required)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function St(e){let n,s,o,i=e[0]==pt.SUCCESS&&It(e),r=e[0]==pt.WORKING&&gt(),a=e[0]==pt.PRIVATEUUID_MISSING&&Ut();return{c(){n=m("span"),i&&i.c(),s=h(),r&&r.c(),o=h(),a&&a.c()},m(t,e){d(t,n,e),i&&i.m(n,null),u(n,s),r&&r.m(n,null),u(n,o),a&&a.m(n,null)},p(t,[e]){t[0]==pt.SUCCESS?i?i.p(t,e):(i=It(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[0]==pt.WORKING?r||(r=gt(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[0]==pt.PRIVATEUUID_MISSING?a||(a=Ut(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&p(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function $t(t,e,n){let s,o;l(t,Y,t=>n(3,s=t)),l(t,Z,t=>n(4,o=t));let i,{privateUUID:r=""}=e,a=pt.IDLE;return D((async function(){if(""===r)return void n(0,a=pt.PRIVATEUUID_MISSING);if(n(0,a=pt.WORKING),"savedtimeforuser"in s&&s.savedtimeforuser_time+6e5>Date.now())n(1,i=s.savedtimeforuser);else{const t=await fetch(`${o.sponsorBlockApi}/api/getSavedTimeForUser?userID=${r}`).then(t=>t.json());c(Y,s.savedtimeforuser_time=Date.now(),s),c(Y,s.savedtimeforuser=t.timeSaved,s),n(1,i=t.timeSaved)}n(0,a=pt.SUCCESS)})),t.$$set=t=>{"privateUUID"in t&&n(2,r=t.privateUUID)},[a,i,r]}class bt extends H{constructor(t){super(),M(this,t,$t,St,i,{privateUUID:2})}}function Rt(t){let e,n,s,o=t[1].toLocaleString()+"";return{c(){e=v("You have saved people from "),n=v(o),s=v(" segments.")},m(t,o){d(t,e,o),d(t,n,o),d(t,s,o)},p(t,e){2&e&&o!==(o=t[1].toLocaleString()+"")&&U(n,o)},d(t){t&&p(e),t&&p(n),t&&p(s)}}}function Dt(t){let e;return{c(){e=v("Loading...")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function yt(t){let e;return{c(){e=v("(Private UUID required)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function wt(e){let n,s,o,i=e[0]==pt.SUCCESS&&Rt(e),r=e[0]==pt.WORKING&&Dt(),a=e[0]==pt.PRIVATEUUID_MISSING&&yt();return{c(){n=m("span"),i&&i.c(),s=h(),r&&r.c(),o=h(),a&&a.c()},m(t,e){d(t,n,e),i&&i.m(n,null),u(n,s),r&&r.m(n,null),u(n,o),a&&a.m(n,null)},p(t,[e]){t[0]==pt.SUCCESS?i?i.p(t,e):(i=Rt(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[0]==pt.WORKING?r||(r=Dt(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[0]==pt.PRIVATEUUID_MISSING?a||(a=yt(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&p(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function Ot(t,e,n){let s,o;l(t,Y,t=>n(3,s=t)),l(t,Z,t=>n(4,o=t));let{privateUUID:i=""}=e,r=pt.IDLE,a=0;return D((async function(){if(""===i)return void n(0,r=pt.PRIVATEUUID_MISSING);if(n(0,r=pt.WORKING),"viewsforuser"in s&&s.viewsforuser_time+6e5>Date.now())n(1,a=s.viewsforuser);else{const t=await fetch(`${o.sponsorBlockApi}/api/getViewsForUser?userID=${i}`).then(t=>t.json());c(Y,s.viewsforuser_time=Date.now(),s),c(Y,s.viewsforuser=t.viewCount,s),n(1,a=t.viewCount)}n(0,r=pt.SUCCESS)})),t.$$set=t=>{"privateUUID"in t&&n(2,i=t.privateUUID)},[r,a,i]}class Ct extends H{constructor(t){super(),M(this,t,Ot,wt,i,{privateUUID:2})}}function Nt(t){let e;return{c(){e=v("(Set your private UUID!)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function xt(t){let e,n,o,i,r,a,l,c,f,$,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,B,M,H,j,z,Z,Y,F,J,Q,X,tt,et,nt,st,ot,it,rt=t[1]?"Saved!":"Save",at=t[3]?"Saved!":"Save",lt=""===t[4].privateUUID&&Nt();return X=new Ct({props:{privateUUID:t[4].privateUUID}}),nt=new bt({props:{privateUUID:t[4].privateUUID}}),{c(){var t,s,u;e=m("main"),n=m("div"),o=m("details"),i=m("summary"),r=v("Settings "),lt&&lt.c(),a=h(),l=m("fieldset"),c=m("legend"),c.textContent="Private userID:",f=h(),$=m("div"),$.innerHTML="<p>Your private userID will only be stored in your Browser and only\n            send to the SponsorBlock API.</p>",b=h(),R=m("div"),D=m("label"),D.textContent="Your private userID:",y=m("br"),w=h(),O=m("input"),N=h(),x=m("div"),E=m("button"),k=v(rt),_=h(),A=m("fieldset"),L=m("legend"),L.textContent="API Server:",G=h(),T=m("div"),B=m("label"),B.textContent="SponsorBlock Server:",M=m("br"),H=h(),j=m("input"),z=h(),Z=m("div"),Y=m("button"),F=v(at),J=h(),Q=m("p"),P(X.$$.fragment),tt=m("br"),et=h(),P(nt.$$.fragment),g(i,"class","svelte-12iolxf"),g($,"class","info"),g(D,"for","privateUUID"),g(O,"id","privateUUID"),g(O,"type","text"),g(O,"size","36"),g(O,"pattern",C="^[A-Za-z0-9]36$"),g(O,"spellcheck","false"),g(O,"placeholder","Private UUID"),g(O,"class","svelte-12iolxf"),g(x,"class","actions"),g(l,"class","svelte-12iolxf"),g(B,"for","serveraddr"),g(j,"type","url"),g(j,"id","serveraddr"),g(j,"class","serveraddr svelte-12iolxf"),g(j,"placeholder","https://..."),g(Z,"class","actions"),g(A,"class","svelte-12iolxf"),g(o,"class","svelte-12iolxf"),t="width",s="100%",Q.style.setProperty(t,s,u?"important":""),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(i,r),lt&&lt.m(i,null),u(o,a),u(o,l),u(l,c),u(l,f),u(l,$),u(l,b),u(l,R),u(R,D),u(R,y),u(R,w),u(R,O),S(O,t[0]),u(R,N),u(R,x),u(x,E),u(E,k),u(o,_),u(o,A),u(A,L),u(A,G),u(A,T),u(T,B),u(T,M),u(T,H),u(T,j),S(j,t[2]),u(T,z),u(T,Z),u(Z,Y),u(Y,F),u(n,J),u(n,Q),q(X,Q,null),u(Q,tt),u(Q,et),q(nt,Q,null),st=!0,ot||(it=[I(O,"input",t[7]),I(E,"click",t[5]),I(j,"input",t[8]),I(Y,"click",t[6])],ot=!0)},p(t,[e]){""===t[4].privateUUID?lt||(lt=Nt(),lt.c(),lt.m(i,null)):lt&&(lt.d(1),lt=null),1&e&&O.value!==t[0]&&S(O,t[0]),(!st||2&e)&&rt!==(rt=t[1]?"Saved!":"Save")&&U(k,rt),4&e&&S(j,t[2]),(!st||8&e)&&at!==(at=t[3]?"Saved!":"Save")&&U(F,at);const n={};16&e&&(n.privateUUID=t[4].privateUUID),X.$set(n);const s={};16&e&&(s.privateUUID=t[4].privateUUID),nt.$set(s)},i(t){st||(K(X.$$.fragment,t),K(nt.$$.fragment,t),st=!0)},o(t){W(X.$$.fragment,t),W(nt.$$.fragment,t),st=!1},d(t){t&&p(e),lt&&lt.d(),V(X),V(nt),ot=!1,s(it)}}}function Et(t,e,n){let s,o;l(t,Z,t=>n(4,s=t)),l(t,Y,t=>n(9,o=t));let i=s.privateUUID,r=!1;let a=s.sponsorBlockApi,u=!1;return[i,r,a,u,s,function(t){s.privateUUID!=i&&c(Y,o={}),c(Z,s.privateUUID=i,s),n(1,r=!0),setTimeout(t=>{n(1,r=!1)},3e3)},function(t){c(Z,s.sponsorBlockApi=a,s),n(3,u=!0),setTimeout(t=>{n(3,u=!1)},3e3)},function(){i=this.value,n(0,i)},function(){a=this.value,n(2,a)}]}class kt extends H{constructor(t){super(),M(this,t,Et,xt,i,{})}}function _t(t){let e,n,o,i,r,a,l,c,f,U,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,B,M,H,j,z,Z;return H=new mt({props:{status:t[3]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=h(),r=m("fieldset"),a=m("legend"),a.textContent="Shadow ban user:",l=h(),c=m("div"),f=m("div"),U=m("label"),U.textContent="User UUID:",b=m("br"),R=h(),D=m("input"),y=h(),w=m("div"),O=m("input"),C=h(),N=m("label"),N.textContent="Hide/Restore old submissions",x=h(),E=m("div"),k=m("button"),_=v("Unban"),L=h(),G=m("button"),T=v("Ban"),M=h(),P(H.$$.fragment),g(o,"class","viprequired"),g(U,"for","uuid"),g(D,"id","uuid"),g(D,"type","text"),g(D,"size","64"),g(D,"placeholder","Users UUID..."),g(O,"id","hideoldsubmissions"),g(O,"type","checkbox"),g(N,"for","hideoldsubmissions"),g(k,"type","button"),k.disabled=A=!t[2],g(G,"type","button"),G.disabled=B=!t[2],g(E,"class","actions"),g(c,"class","form svelte-1izyxq"),$(c,"working",t[3]===pt.WORKING),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,f),u(f,U),u(f,b),u(f,R),u(f,D),S(D,t[0]),u(c,y),u(c,w),u(w,O),O.checked=t[1],u(w,C),u(w,N),u(c,x),u(c,E),u(E,k),u(k,_),u(E,L),u(E,G),u(G,T),u(n,M),q(H,n,null),j=!0,z||(Z=[I(D,"input",t[5]),I(D,"input",t[6]),I(O,"change",t[7]),I(k,"click",t[8]),I(G,"click",t[9])],z=!0)},p(t,[e]){1&e&&D.value!==t[0]&&S(D,t[0]),2&e&&(O.checked=t[1]),(!j||4&e&&A!==(A=!t[2]))&&(k.disabled=A),(!j||4&e&&B!==(B=!t[2]))&&(G.disabled=B),8&e&&$(c,"working",t[3]===pt.WORKING);const n={};8&e&&(n.status=t[3]),H.$set(n)},i(t){j||(K(H.$$.fragment,t),j=!0)},o(t){W(H.$$.fragment,t),j=!1},d(t){t&&p(e),V(H),z=!1,s(Z)}}}function At(t,e,n){let s;l(t,Z,t=>n(10,s=t));let o="",i=!0,r=!1,a=pt.IDLE;async function c(t="ban"){n(3,a=pt.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("ban"===t).toString()),e.set("unHideOldSubmissions",i.toString());const r=await fetch(`${s.sponsorBlockApi}/api/shadowBanUser?${e}`,{method:"post"}).then((function(t){return t.status}));200===r&&n(3,a=pt.SUCCESS),400===r&&n(3,a=pt.ERROR_INVALID),403===r&&n(3,a=pt.ERROR_UNAUTHORIZED)}return[o,i,r,a,c,function(){o=this.value,n(0,o)},t=>{n(2,r=ht(o))},function(){i=this.checked,n(1,i)},t=>{c("unban")},t=>{c("ban")}]}class Lt extends H{constructor(t){super(),M(this,t,At,_t,i,{})}}function Gt(t){let e,n,s,o,i,r,a,l,c,f,S,$,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,K,W,P,q,V,B=t[1].userCount.toLocaleString()+"",M=t[1].viewCount.toLocaleString()+"",H=t[1].totalSubmissions.toLocaleString()+"",j=vt(t[1].minutesSaved,!0)+"";return{c(){e=m("table"),n=m("tbody"),s=m("tr"),o=m("th"),o.textContent="Contributing Users:",i=h(),r=m("td"),a=v(B),l=h(),c=m("tr"),f=m("th"),f.textContent="Skip Count:",S=h(),$=m("td"),b=v(M),R=v(" skips"),D=h(),y=m("tr"),w=m("th"),w.textContent="Submissions:",O=h(),C=m("td"),N=v(H),x=h(),E=m("tr"),k=m("th"),k.textContent="Time Saved:",_=h(),A=m("td"),L=v(j),G=h(),T=m("div"),K=m("button"),W=v("Refresh"),g(o,"class","svelte-aon4oy"),g(r,"class","svelte-aon4oy"),g(f,"class","svelte-aon4oy"),g($,"class","svelte-aon4oy"),g(w,"class","svelte-aon4oy"),g(C,"class","svelte-aon4oy"),g(k,"class","svelte-aon4oy"),g(A,"class","svelte-aon4oy"),g(e,"class","stats-table svelte-aon4oy"),K.disabled=P=t[0]===pt.WORKING},m(p,m){d(p,e,m),u(e,n),u(n,s),u(s,o),u(s,i),u(s,r),u(r,a),u(n,l),u(n,c),u(c,f),u(c,S),u(c,$),u($,b),u($,R),u(n,D),u(n,y),u(y,w),u(y,O),u(y,C),u(C,N),u(n,x),u(n,E),u(E,k),u(E,_),u(E,A),u(A,L),d(p,G,m),d(p,T,m),u(T,K),u(K,W),q||(V=I(K,"click",t[3]),q=!0)},p(t,e){2&e&&B!==(B=t[1].userCount.toLocaleString()+"")&&U(a,B),2&e&&M!==(M=t[1].viewCount.toLocaleString()+"")&&U(b,M),2&e&&H!==(H=t[1].totalSubmissions.toLocaleString()+"")&&U(N,H),2&e&&j!==(j=vt(t[1].minutesSaved,!0)+"")&&U(L,j),1&e&&P!==(P=t[0]===pt.WORKING)&&(K.disabled=P)},d(t){t&&p(e),t&&p(G),t&&p(T),q=!1,V()}}}function Tt(t){let e,n,s,o,i,r=t[1]&&Gt(t);return o=new mt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),r&&r.c(),s=h(),P(o.$$.fragment),g(n,"class","container")},m(t,a){d(t,e,a),u(e,n),r&&r.m(n,null),u(n,s),q(o,n,null),i=!0},p(t,[e]){t[1]?r?r.p(t,e):(r=Gt(t),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&e&&(i.status=t[0]),o.$set(i)},i(t){i||(K(o.$$.fragment,t),i=!0)},o(t){W(o.$$.fragment,t),i=!1},d(t){t&&p(e),r&&r.d(),V(o)}}}function Kt(t,e,n){let s,o;l(t,Z,t=>n(4,s=t)),l(t,Y,t=>n(5,o=t));let i=pt.IDLE,r={userCount:0,viewCount:0,totalSubmissions:0,minutesSaved:0};async function a(){n(1,r=await async function(){n(0,i=pt.WORKING);const t=await fetch(s.sponsorBlockApi+"/api/getTotalStats").then(t=>t.json());return n(0,i=pt.SUCCESS),t}()),c(Y,o.totalstats=r,o),c(Y,o.totalstats_time=Date.now(),o)}D(async t=>{"totalstats"in o&&o.totalstats_time+6e5>Date.now()?n(1,r=o.totalstats):await a()});return[i,r,a,async t=>{await a()}]}class Wt extends H{constructor(t){super(),M(this,t,Kt,Tt,i,{})}}function Pt(t,e,n){const s=t.slice();return s[7]=e[n],s[9]=n,s}function qt(t){let e,n,s,o,i,r,a,l,c,U,S,$=t[1],b=[];for(let e=0;e<$.length;e+=1)b[e]=Vt(Pt(t,$,e));return{c(){e=m("table"),n=m("thead"),n.innerHTML='<tr><th class="celltype-number svelte-1e4p7ss">Rank</th> \n            <th class="celltype-text svelte-1e4p7ss">User Name</th> \n            <th class="celltype-number svelte-1e4p7ss">Submissions</th> \n            <th class="celltype-number svelte-1e4p7ss">Time Saved</th> \n            <th class="celltype-number svelte-1e4p7ss">Total Skips</th></tr>',s=h(),o=m("tbody");for(let t=0;t<b.length;t+=1)b[t].c();i=h(),r=m("div"),a=m("button"),l=v("Refresh"),g(n,"class","svelte-1e4p7ss"),g(e,"class","svelte-1e4p7ss"),a.disabled=c=t[0]===pt.WORKING},m(c,p){d(c,e,p),u(e,n),u(e,s),u(e,o);for(let t=0;t<b.length;t+=1)b[t].m(o,null);d(c,i,p),d(c,r,p),u(r,a),u(a,l),U||(S=I(a,"click",t[3]),U=!0)},p(t,e){if(2&e){let n;for($=t[1],n=0;n<$.length;n+=1){const s=Pt(t,$,n);b[n]?b[n].p(s,e):(b[n]=Vt(s),b[n].c(),b[n].m(o,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=$.length}1&e&&c!==(c=t[0]===pt.WORKING)&&(a.disabled=c)},d(t){t&&p(e),f(b,t),t&&p(i),t&&p(r),U=!1,S()}}}function Vt(t){let e,n,s,o,i,r,a,l,c,f,I,S,b,R,D,y,w=t[9]+1+"",O=t[7].username+"",C=t[7].totalSubmissions.toLocaleString()+"",N=vt(t[7].minutesSaved)+"",x=t[7].viewCount.toLocaleString()+"";return{c(){e=m("tr"),n=m("td"),s=v(w),o=h(),i=m("td"),r=v(O),a=h(),l=m("td"),c=v(C),f=h(),I=m("td"),S=v(N),b=h(),R=m("td"),D=v(x),y=h(),g(n,"class","celltype-number svelte-1e4p7ss"),g(i,"class","celltype-text svelte-1e4p7ss"),g(l,"class","celltype-number svelte-1e4p7ss"),g(I,"class","celltype-number svelte-1e4p7ss"),g(R,"class","celltype-number svelte-1e4p7ss"),g(e,"class","svelte-1e4p7ss"),$(e,"row--even",t[9]%2==0)},m(t,p){d(t,e,p),u(e,n),u(n,s),u(e,o),u(e,i),u(i,r),u(e,a),u(e,l),u(l,c),u(e,f),u(e,I),u(I,S),u(e,b),u(e,R),u(R,D),u(e,y)},p(t,e){2&e&&O!==(O=t[7].username+"")&&U(r,O),2&e&&C!==(C=t[7].totalSubmissions.toLocaleString()+"")&&U(c,C),2&e&&N!==(N=vt(t[7].minutesSaved)+"")&&U(S,N),2&e&&x!==(x=t[7].viewCount.toLocaleString()+"")&&U(D,x)},d(t){t&&p(e)}}}function Bt(t){let e,n,s,o,i,r=t[1]&&qt(t);return o=new mt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),r&&r.c(),s=h(),P(o.$$.fragment),g(n,"class","container")},m(t,a){d(t,e,a),u(e,n),r&&r.m(n,null),u(n,s),q(o,n,null),i=!0},p(t,[e]){t[1]?r?r.p(t,e):(r=qt(t),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&e&&(i.status=t[0]),o.$set(i)},i(t){i||(K(o.$$.fragment,t),i=!0)},o(t){W(o.$$.fragment,t),i=!1},d(t){t&&p(e),r&&r.d(),V(o)}}}function Mt(t,e,n){let s,o;l(t,Z,t=>n(4,s=t)),l(t,Y,t=>n(5,o=t));let i,r=pt.IDLE;async function a(){n(1,i=await async function(){n(0,r=pt.WORKING);const t=await fetch(s.sponsorBlockApi+"/api/getTopUsers?sortType=0").then(t=>t.json());return n(0,r=pt.SUCCESS),t.userNames.map((e,n)=>({username:e,viewCount:t.viewCounts[n],totalSubmissions:t.totalSubmissions[n],minutesSaved:t.minutesSaved[n]}))}()),c(Y,o.topusers=i,o),c(Y,o.topusers_time=Date.now(),o)}D(async t=>{"topusers"in o&&o.topusers_time+6e5>Date.now()?n(1,i=o.topusers):await a()});return[r,i,a,t=>{a()}]}class Ht extends H{constructor(t){super(),M(this,t,Mt,Bt,i,{})}}function jt(t){let e,n,o,i,r,a,l,c,f,U,$,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G;return _=new mt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),o=m("fieldset"),i=m("legend"),i.textContent="Vote on segment",r=h(),a=m("div"),l=m("label"),l.textContent="Segment UUID:",c=m("br"),f=h(),U=m("input"),R=h(),D=m("div"),y=m("button"),w=v("Downvote"),C=h(),N=m("button"),x=v("Upvote"),k=h(),P(_.$$.fragment),g(l,"for","uuid"),g(U,"id","uuid"),g(U,"type","text"),g(U,"size","64"),g(U,"pattern",$="[a-f0-9]{64}"),g(U,"placeholder","Segment UUID ..."),U.disabled=b=t[0]===pt.WORKING,y.disabled=O=t[0]===pt.WORKING||!t[2]||t[0]===pt.WORKING,N.disabled=E=t[0]===pt.WORKING||!t[2]||t[0]===pt.WORKING,g(D,"class","actions"),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(o,r),u(o,a),u(a,l),u(a,c),u(a,f),u(a,U),S(U,t[1]),u(o,R),u(o,D),u(D,y),u(y,w),u(D,C),u(D,N),u(N,x),u(n,k),q(_,n,null),A=!0,L||(G=[I(U,"input",t[4]),I(U,"input",t[5]),I(y,"click",t[6]),I(N,"click",t[7])],L=!0)},p(t,[e]){(!A||1&e&&b!==(b=t[0]===pt.WORKING))&&(U.disabled=b),2&e&&U.value!==t[1]&&S(U,t[1]),(!A||5&e&&O!==(O=t[0]===pt.WORKING||!t[2]||t[0]===pt.WORKING))&&(y.disabled=O),(!A||5&e&&E!==(E=t[0]===pt.WORKING||!t[2]||t[0]===pt.WORKING))&&(N.disabled=E);const n={};1&e&&(n.status=t[0]),_.$set(n)},i(t){A||(K(_.$$.fragment,t),A=!0)},o(t){W(_.$$.fragment,t),A=!1},d(t){t&&p(e),V(_),L=!1,s(G)}}}function zt(t,e,n){let s;l(t,Z,t=>n(8,s=t));let o=pt.IDLE,i="",r=!1;async function a(t,e=0){n(0,o=pt.WORKING);const i=new URLSearchParams;i.set("UUID",t),i.set("userID",s.privateUUID),i.set("type",e);const r=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${i}`,{method:"POST"}).then(t=>t.status);200===r&&(n(0,o=pt.SUCCESS),t=""),400===r&&n(0,o=pt.INVALID),405===r&&n(0,o=pt.DUPLICATE)}return[o,i,r,a,function(){i=this.value,n(1,i)},t=>{n(2,r=/^([a-f0-9]{64}|[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12})/.test(i))},t=>{a(i,0)},t=>{a(i,1)}]}class Zt extends H{constructor(t){super(),M(this,t,zt,jt,i,{})}}function Yt(t){let e,n,o,i,r,a,l,c,f,U,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,B;return L=new mt({props:{status:t[4]}}),{c(){e=m("main"),n=m("div"),o=m("div"),i=m("fieldset"),r=m("legend"),r.textContent="Your Username:",a=h(),l=m("input"),c=h(),f=m("button"),U=v("Save"),R=h(),D=m("fieldset"),y=m("legend"),y.innerHTML='Change Username: <span class="viprequired">(Admin Only)</span>',w=h(),O=m("input"),C=h(),N=m("input"),x=h(),E=m("button"),k=v("Update"),A=h(),P(L.$$.fragment),g(l,"type","text"),g(l,"placeholder","Username..."),f.disabled=b=0==t[0].length,g(i,"class","svelte-1j3zcny"),g(O,"type","text"),g(O,"placeholder","Target UUID..."),g(N,"type","text"),g(N,"placeholder","Username..."),E.disabled=_=!t[3]||0===t[1].length,g(D,"class","svelte-1j3zcny"),g(o,"class","form svelte-1j3zcny"),$(o,"working",t[4]===pt.WORKING),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(i,r),u(i,a),u(i,l),S(l,t[0]),u(i,c),u(i,f),u(f,U),u(o,R),u(o,D),u(D,y),u(D,w),u(D,O),S(O,t[2]),u(D,C),u(D,N),S(N,t[1]),u(D,x),u(D,E),u(E,k),u(n,A),q(L,n,null),G=!0,T||(B=[I(l,"input",t[8]),I(f,"click",t[9]),I(O,"input",t[10]),I(O,"input",t[11]),I(N,"input",t[12]),I(E,"click",t[13])],T=!0)},p(t,[e]){1&e&&l.value!==t[0]&&S(l,t[0]),(!G||1&e&&b!==(b=0==t[0].length))&&(f.disabled=b),4&e&&O.value!==t[2]&&S(O,t[2]),2&e&&N.value!==t[1]&&S(N,t[1]),(!G||10&e&&_!==(_=!t[3]||0===t[1].length))&&(E.disabled=_),16&e&&$(o,"working",t[4]===pt.WORKING);const n={};16&e&&(n.status=t[4]),L.$set(n)},i(t){G||(K(L.$$.fragment,t),G=!0)},o(t){W(L.$$.fragment,t),G=!1},d(t){t&&p(e),V(L),T=!1,s(B)}}}function Ft(t,e,n){let s,o;l(t,Z,t=>n(5,s=t)),l(t,Y,t=>n(14,o=t));let i="",r="",a="",u=!1,d=pt.IDLE;async function p(t,e,o){n(4,d=pt.WORKING);const i=new URLSearchParams;i.set("userID",t),i.set("username",e),o&&i.set("adminUserID",o);const r=await fetch(`${s.sponsorBlockApi}/api/setUsername?${i}`,{method:"POST"});200===r.status&&n(4,d=pt.SUCCESS),400===r.status&&n(4,d=pt.ERROR_INVALID),403===r.status&&n(4,d=pt.ERROR_UNAUTHORIZED)}async function f(){n(0,i=await async function(){n(4,d=pt.WORKING);const t=await fetch(`${s.sponsorBlockApi}/api/getUsername?userID=${s.privateUUID}`);if(200===t.status){const e=await t.json();return n(4,d=pt.SUCCESS),e.userName}return 400===t&&n(4,d=pt.ERROR_INVALID),403===t&&n(4,d=pt.ERROR_UNAUTHORIZED),""}()),c(Y,o.username=i,o),c(Y,o.username_time=Date.now(),o)}D(async t=>{"username"in o&&o.username_time+6e5>Date.now()?n(0,i=o.username):await f()});return[i,r,a,u,d,s,p,f,function(){i=this.value,n(0,i)},async t=>{await p(s.privateUUID,i),await f()},function(){a=this.value,n(2,a)},t=>{n(3,u=ht(a))},function(){r=this.value,n(1,r)},t=>{p(a,r,s.privateUUID)}]}class Jt extends H{constructor(t){super(),M(this,t,Ft,Yt,i,{})}}function Qt(t){let e,n,o,i,r,a,l,c,f,U,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,B;return L=new mt({props:{status:t[2]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only admins can do this!",i=h(),r=m("fieldset"),a=m("legend"),a.textContent="Add/Remove VIP",l=h(),c=m("div"),f=m("div"),U=m("label"),U.textContent="User UUID:",b=m("br"),R=h(),D=m("input"),y=h(),w=m("div"),O=m("button"),C=v("Remove"),x=h(),E=m("button"),k=v("Add"),A=h(),P(L.$$.fragment),g(o,"class","viprequired"),g(U,"for","uuid"),g(D,"id","uuid"),g(D,"type","text"),g(D,"size","64"),g(D,"placeholder","Users UUID..."),O.disabled=N=!t[1],E.disabled=_=!t[1],g(w,"class","actions"),g(c,"class","form svelte-1izyxq"),$(c,"working",t[2]===pt.WORKING),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,f),u(f,U),u(f,b),u(f,R),u(f,D),S(D,t[0]),u(c,y),u(c,w),u(w,O),u(O,C),u(w,x),u(w,E),u(E,k),u(n,A),q(L,n,null),G=!0,T||(B=[I(D,"input",t[5]),I(D,"input",t[6]),I(O,"click",t[4]),I(E,"click",t[3])],T=!0)},p(t,[e]){1&e&&D.value!==t[0]&&S(D,t[0]),(!G||2&e&&N!==(N=!t[1]))&&(O.disabled=N),(!G||2&e&&_!==(_=!t[1]))&&(E.disabled=_),4&e&&$(c,"working",t[2]===pt.WORKING);const n={};4&e&&(n.status=t[2]),L.$set(n)},i(t){G||(K(L.$$.fragment,t),G=!0)},o(t){W(L.$$.fragment,t),G=!1},d(t){t&&p(e),V(L),T=!1,s(B)}}}function Xt(t,e,n){let s;l(t,Z,t=>n(7,s=t));let o="",i=!1,r=pt.IDLE;async function a(t="add"){n(2,r=pt.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("add"===t).toString());const i=await fetch(`${s.sponsorBlockApi}/api/addUserAsVIP?${e}`,{method:"post"}).then((function(t){return t.status}));200===i&&n(2,r=pt.SUCCESS),400===i&&n(2,r=pt.ERROR_INVALID),403===i&&n(2,r=pt.ERROR_UNAUTHORIZED)}return[o,i,r,function(){a("add")},function(){a("remove")},function(){o=this.value,n(0,o)},t=>{n(1,i=ht(o))}]}class te extends H{constructor(t){super(),M(this,t,Xt,Qt,i,{})}}const ee=["sponsor","intro","outro","interaction","selfpromo","music_offtopic"],ne=["Sponsor","Intermission/Intro Animation","Endcards/Credits","Interaction Reminder (Subscribe)","Unpaid/Self Promotion","Music: Non-Music Section"];function se(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function oe(t){let e,n,s,o,i,r,a,l,c,f,U,S=ne[t[14]]+"";return{c(){e=m("div"),n=m("input"),i=h(),r=m("label"),a=v(S),c=h(),g(n,"id",s="category_"+t[12]),g(n,"type","checkbox"),n.__value=o=t[12],n.value=n.__value,t[9][0].push(n),g(r,"for",l="category_"+t[12]),g(e,"class","category-option svelte-189x8jq")},m(s,o){d(s,e,o),u(e,n),n.checked=~t[0].indexOf(n.__value),u(e,i),u(e,r),u(r,a),u(e,c),f||(U=I(n,"change",t[8]),f=!0)},p(t,e){1&e&&(n.checked=~t[0].indexOf(n.__value))},d(s){s&&p(e),t[9][0].splice(t[9][0].indexOf(n),1),f=!1,U()}}}function ie(t){let e,n,o,i,r,a,l,c,U,b,R,D,y,w,O,C,N,x,E,k,_,A,L,G,T,B,M,H,j,z=ee,Z=[];for(let e=0;e<z.length;e+=1)Z[e]=oe(se(t,z,e));return B=new mt({props:{status:t[3]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=h(),r=m("fieldset"),a=m("legend"),a.textContent="No segments",l=h(),c=m("div"),U=m("div"),b=m("label"),b.textContent="VideoID:",R=m("br"),D=h(),y=m("input"),w=h(),O=m("div"),C=m("div"),C.textContent="Categories:",N=h();for(let t=0;t<Z.length;t+=1)Z[t].c();x=h(),E=m("div"),k=m("button"),k.textContent="Check all",_=h(),A=m("button"),L=v("Submit"),T=h(),P(B.$$.fragment),g(o,"class","viprequired"),g(b,"for","videoid"),g(y,"id","videoid"),g(y,"type","text"),g(y,"placeholder","VideoID or URL..."),A.disabled=G=!t[2]||0===t[0].length||t[3]===pt.WORKING,g(E,"class","actions"),g(c,"class","form svelte-189x8jq"),$(c,"working",t[3]===pt.WORKING),g(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,U),u(U,b),u(U,R),u(U,D),u(U,y),S(y,t[1]),u(c,w),u(c,O),u(O,C),u(O,N);for(let t=0;t<Z.length;t+=1)Z[t].m(O,null);u(c,x),u(c,E),u(E,k),u(E,_),u(E,A),u(A,L),u(n,T),q(B,n,null),M=!0,H||(j=[I(y,"input",t[7]),I(y,"input",t[4]),I(k,"click",t[6]),I(A,"click",t[5])],H=!0)},p(t,[e]){if(2&e&&y.value!==t[1]&&S(y,t[1]),1&e){let n;for(z=ee,n=0;n<z.length;n+=1){const s=se(t,z,n);Z[n]?Z[n].p(s,e):(Z[n]=oe(s),Z[n].c(),Z[n].m(O,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=z.length}(!M||13&e&&G!==(G=!t[2]||0===t[0].length||t[3]===pt.WORKING))&&(A.disabled=G),8&e&&$(c,"working",t[3]===pt.WORKING);const n={};8&e&&(n.status=t[3]),B.$set(n)},i(t){M||(K(B.$$.fragment,t),M=!0)},o(t){W(B.$$.fragment,t),M=!1},d(t){t&&p(e),f(Z,t),V(B),H=!1,s(j)}}}function re(t,e,n){let s;l(t,Z,t=>n(10,s=t));const o=new RegExp("^[0-9A-Za-z_-]{10}[048AEIMQUYcgkosw]$");let i=[],r="",a=!1,c=pt.IDLE;const u=[[]];return[i,r,a,c,function(){let t=!1,e=r;if(e.includes("http")){const t=new URL(e);if(t.searchParams.has("v")&&(e=t.searchParams.get("v")),"youtu.be"===t.host&&(e=t.pathname.substring(1)),"sb.ltn.fi"===t.host)if(t.pathname.includes("/video/")){const n=t.pathname.split("/"),s=n.indexOf("video"),o=s+1;-1!==s&&n.length-1>=o&&(e=n[o])}else t.searchParams.has("videoid")&&(e=t.searchParams.get("videoid"))}o.test(e)&&(t=!0,n(1,r=e)),n(2,a=t)},async function(){n(3,c=pt.WORKING);const t={};t.videoID=r,t.userID=s.privateUUID,t.categories=i;const e=await fetch(s.sponsorBlockApi+"/api/noSegments",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.status}));200===e&&(n(3,c=pt.SUCCESS),n(1,r=""),n(0,i=[])),400===e&&n(3,c=pt.ERROR_INVALID),403===e&&n(3,c=pt.ERROR_UNAUTHORIZED)},function(){0===i.length?n(0,i=[...ee]):n(0,i=[])},function(){r=this.value,n(1,r)},function(){i=function(t,e,n){const s=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&s.add(t[e].__value);return n||s.delete(e),Array.from(s)}(u[0],this.__value,this.checked),n(0,i)},u]}class ae extends H{constructor(t){super(),M(this,t,re,ie,i,{})}}function le(t){let e,n,o,i,r,a,l;e=new J({}),o=new nt({props:{items:t[1],clickHandler:t[2],selected:t[0]}});var c=t[0];return c&&(r=new c({})),{c(){P(e.$$.fragment),n=h(),P(o.$$.fragment),i=h(),r&&P(r.$$.fragment),a=v("")},m(t,s){q(e,t,s),d(t,n,s),q(o,t,s),d(t,i,s),r&&q(r,t,s),d(t,a,s),l=!0},p(t,[e]){const n={};if(1&e&&(n.selected=t[0]),o.$set(n),c!==(c=t[0])){if(r){T={r:0,c:[],p:T};const t=r;W(t.$$.fragment,1,0,()=>{V(t,1)}),T.r||s(T.c),T=T.p}c?(r=new c({}),P(r.$$.fragment),K(r.$$.fragment,1),q(r,a.parentNode,a)):r=null}},i(t){l||(K(e.$$.fragment,t),K(o.$$.fragment,t),r&&K(r.$$.fragment,t),l=!0)},o(t){W(e.$$.fragment,t),W(o.$$.fragment,t),r&&W(r.$$.fragment,t),l=!1},d(t){V(e,t),t&&p(n),V(o,t),t&&p(i),t&&p(a),r&&V(r,t)}}}function ce(t,e,n){const s=[{name:"Home",component:kt,uuidRequired:!1},{name:"Username",component:Jt,uuidRequired:!0},{name:"Stats",component:Wt,uuidRequired:!1},{name:"Leaderboard",component:Ht,uuidRequired:!1},{name:"Vote on segment",component:Zt,uuidRequired:!0},{name:"No segments",component:ae,uuidRequired:!0},{name:"Add/Remove Shadow ban",component:Lt,uuidRequired:!0},{name:"Add/Remove VIP",component:te,uuidRequired:!0}];let o=s[0].component;return[o,s,function(t){const e=s.find(e=>e.name===t);e&&n(0,o=e.component)}]}return new class extends H{constructor(t){super(),M(this,t,ce,le,i,{})}}({target:document.body})}();
